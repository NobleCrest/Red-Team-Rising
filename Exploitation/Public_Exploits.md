# Taking and Modifying Public Exploits 
## Contents 
- [Taking and Modifying Public Exploits](#taking-and-modifying-public-exploits)
  * [Contents](#contents)
  * [Sites](#sites)
  * [Pre-requisites for running exploits](#pre-requisites-for-running-exploits)
  * [Installing searchsploit (Already in Kali)](#installing-searchsploit--already-in-kali-)
  * [Install binsploits](#install-binsploits)
  * [updating searchsploit](#updating-searchsploit)
  * [Basic Searching:](#basic-searching-)
  * [Exclude unwanted results](#exclude-unwanted-results)
  * [View exploits from Searchsploit](#view-exploits-from-searchsploit)
  * [Copy exploit to current working directory](#copy-exploit-to-current-working-directory)
  * [Access Exploits from Exploit-DB website:](#access-exploits-from-exploit-db-website-)
  * [Run an nmap scan result through searchsploit:](#run-an-nmap-scan-result-through-searchsploit-)
  * [Exploit not working](#exploit-not-working)
    + [Debugging Metasploit Exploits](#debugging-metasploit-exploits)
  * [Metasploit Quick Reference](#metasploit-quick-reference)

## Sites
[NVD (National Vulnerability Database)](https://nvd.nist.gov/vuln/full-listing)   

[Exploit-DB](https://www.exploit-db.com/) 

[Rapid-7](https://www.rapid7.com/db/) 

## Pre-requisites for running exploits

- Check the version of the operating system.
- Check the software version.
- Check if there is exploit for it (Searchsploit, ExploitDB, Google, etc).
- If you have an exploit, is there a Metasploit Module for it?

## Installing searchsploit (Already in Kali)

- apt update && apt install exploitdb

## Install binsploits
Note: bin-sploits contains a set of compiled binaries that are tied to exploits in the exploitdb database. Installing this package will take some time depending on your network connection. 

    apt update && apt install exploitdb-bin-sploits

## updating searchsploit

    searchsploit -u

## Basic Searching: 

    searchsploit <program> <Operating System> <programming language> <version #> etc
    searchsploit -t php windows

## Exclude unwanted results
    
    searchsploit linux kernel 5.2 --exclude="Poc"

## View exploits from Searchsploit
    
    searchsploit 9542 --examine
    searchsploit -x window/remote/42031.py


## Copy exploit to current working directory
    
    searchsploit -m <Exploit Title> <Path>

## Access Exploits from Exploit-DB website: 

    searchsploit vsftpd 2.3.4 -w

## Run an nmap scan result through searchsploit: 
1. Nmap -Pn 172.21.0.0 -oX results.xml
2. searchsploit -x --nmap results.xml

Referneces: 

- https://www.exploit-db.com/documentation/Offsec-SearchSploit.pdf


## Exploit not working
- run tcpdump and view traffic
- run Wireshark and view traffic
- Is there a firewall? - try ports you know the box is allowing traffic out of (ie. exploit port 8080, catch shell on 139) 
### Debugging Metasploit Exploits 
help
info

See if target is vulnerable:

    check 
    
Advanced options

    show advanced 
    
 Debug exploit 
 
    set debug true
    set verbose true 
    
Change exploit code

    edit 
    
    
 ## Metasploit Quick Reference
 search [term] type:exploit platform:windows
 
[Metasploit Cheat Sheet](https://www.andreafortuna.org/2017/12/11/metasploit-console-my-own-cheatsheet/)  
[Reference](https://ivanitlearning.wordpress.com/2019/10/03/exploit-code-debugging-in-metasploit/)  
